<!DOCTYPE html>
<html lang="sk">

<head>
	<meta charset="UTF-8" />
	<meta name="viewport" content="width=device-width, initial-scale=1.0" />
	<title>indexKontakt.html</title>
	<link rel="icon" href="favicona-enitech.png">
	<link rel="stylesheet" href="fonts-poppins.css" />
	<link rel="stylesheet" href="fonts-open-sans.css">
	<link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
	<link rel="stylesheet" href="enicss/root.css">
	<style>
		body {
			visibility: hidden;
			margin: 0;
			font-family: "Poppins", "Open sans", Arial, Tahoma, sans-serif;
		}

		/*visibility sa vrati az po nacitani*/
	</style>

	<link rel="stylesheet" href="enicss/animator.css">
	<link rel="stylesheet" href="enicss/menu.css">
	<link rel="stylesheet" href="enicss/kontakt1.css">
	<link rel="stylesheet" href="enicss/formular.css">
	<link rel="stylesheet" href="enicss/kontakt2.css">
	<link rel="stylesheet" href="enicss/kontakt3.css">
	<link rel="stylesheet" href="enicss/footer.css">

	<!-- Nasledovne scripty s defer sa spracuju az po nacitani celeho body tesne pred udalosou DOMContentLoaded-->
	<script src="enijs/Language.js" defer></script>
	<script src="enijs/menu.js" defer></script>
	<script src="enijs/animator.js" defer></script>
	<!-- <script src="enijs/wordpress_footer.js" defer></script> --> <!-- Nacitanie a spracovanie ponuk od WordPressu-->
</head>

<body>
	<div id="top"></div>
	<div id="Menu-div-dst">
	</div>

	<div id="Kontakt1-div-dst">
	</div>

	<div id="Kontakt2-div-dst">
	</div>

	<div id="Kontakt3-div-dst">
	</div>

	<div id="Footer-div-dst">
	</div>

	<script src="enijs/ImportBlock.js" type="text/javascript"></script>
	<script src="enijs/scrolly_save.js" type="text/javascript" defer></script> <!-- zapamata aktualnu poziciu, aby to po F5 neskocilo na zaciatok -->
	<script src="enijs/kontakt1.js" type="text/javascript"></script>
	<script src="https://unpkg.com/leaflet@1.9.4/dist/leaflet.js"></script>
	<script src="enijs/kontakt2_leaflet.js" type="text/javascript" defer></script>

	<script>
		async function loadDivBlocks() {
			const p1 = ImportDiv("Block_Menu.html", "Menu-div-src", "Menu-div-dst");
			const p2 = ImportDiv("Block_Kontakt1.html", "Kontakt1-div-src", "Kontakt1-div-dst");
			const p3 = ImportDiv("Block_Kontakt2.html", "kontakt2-div-src", "Kontakt2-div-dst");
			const p4 = ImportDiv("Block_Kontakt3.html", "Kontakt3-div-src", "Kontakt3-div-dst");
			const p5 = ImportDiv("Block_Footer.html", "Footer-div-src", "Footer-div-dst");
			await Promise.all([p1, p2, p3, p4, p5]);
		}
	</script>

	<script>
		document.addEventListener("DOMContentLoaded", async () => {
			await loadDivBlocks()

			await new Promise(requestAnimationFrame);
			await LoadTranslations('enilang/translations00.txt');
			await LoadTranslations('enilang/translations05-kontakt.txt');
			await LoadTranslations('enilang/translations09-foot.txt');
			await UpdateTexts();
			await new Promise(requestAnimationFrame);
			await kontakt1_addEventListeners();
			await new Promise(requestAnimationFrame);
			await kontakt2_leaflet_init_map_pobocky();
			await new Promise(requestAnimationFrame);
			Animator.register("#id-kontakt1-animate-content", "animate-slide-in-bounce");
			Animator.registerAll(".kontakt2-line", "animate-width-grow");
			Animator.registerAll(".kontakt3-line", "animate-width-grow");
			Animator.register("#id-kontakt2-animate-content", "animate-rotateFlipIn");
			if (window.location.hash) {
				const targetEl = document.querySelector(window.location.hash);
				if (targetEl) {
					await new Promise(requestAnimationFrame);
					targetEl.scrollIntoView({ behavior: 'auto', block: 'start' });
					// Posun o vysku menu (110px)
					window.scrollBy(0, -parseInt(getComputedStyle(document.documentElement).getPropertyValue('--menu-height')) || 110);
				}
			}
			highlightContactsFromHash();
			// highlightContact('id-kontakt-Deak'); // aby prislusny <div id=""> zablikal
			// highlightContact('id-kontakt-Kracala'); // aby prislusny <div id=""> zablikal
			// highlightContact('id-kontakt-Ivaska'); // aby prislusny <div id=""> zablikal
			restoreScrollYPosition(); // navrat na poziciu, na ktorej bolo stlacene F5
			document.body.style.visibility = "visible";
		});
	</script>
</body>

</html>